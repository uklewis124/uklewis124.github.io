<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Data</title>
    <script>
        function getJsonFromUrl() {
            var query = window.location.search.substring(1);
            if (query) {
                return JSON.parse(decodeURIComponent(query.split('=')[1]));
            }
            return null;
        }

        document.addEventListener('DOMContentLoaded', function() {
            var data = getJsonFromUrl();
            var error = decodeURIComponent(window.location.search.split('error=')[1]);
            
            if (error) {
                document.getElementById('error').textContent = error;
                document.getElementById('userData').style.display = 'none'; // Hide user data if error
            } else if (data) {
                document.getElementById('username').textContent = data.username;
                document.getElementById('result').textContent = data.result;
                document.getElementById('total_mark').textContent = data.total_mark;
                document.getElementById('reason').textContent = data.reason;
            } else {
                document.getElementById('error').textContent = 'Unknown error occurred';
            }
        });
    </script>
</head>
<body>
    <h1>User Data</h1>
    <div id="userData">
        <p>Username: <span id="username"></span></p>
        <p>Result: <span id="result"></span></p>
        <p>Total Mark: <span id="total_mark"></span></p>
        <p>Reason: <span id="reason"></span></p>
    </div>
    <div id="error"></div>
</body>
</html>
